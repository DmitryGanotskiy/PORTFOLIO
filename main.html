<!DOCTYPE html>
<html lang="en">
	<head>
		<title></title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		<link type="text/css" rel="stylesheet" href="3d/style.css">
		<script type="text/javascript" src="turnjs4/docs/files/extras/jquery.min.1.7.js"></script>
		<script type="text/javascript" src="turnjs4/docs/files/extras/jquery-ui-1.8.20.custom.min.js"></script>
		<script type="text/javascript" src="turnjs4/docs/files/extras/jquery.mousewheel.min.js"></script>
		<script type="text/javascript" src="turnjs4/docs/files/extras/modernizr.2.5.3.min.js"></script>
		<script type="text/javascript" src="turnjs4/docs/files/lib/hash.js"></script>

        <style>
			#music{
				z-index: -1000;
				position:fixed;
			}

			#container {
				position: absolute;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				overflow: hidden;
			}
			.mobile-image {
				position: fixed;
				bottom: 100px;
				right: 10px;
				width: 50px;
				height: 50px;
				z-index: 1000;
			}

			.mobile-image.second {
				bottom: 170px;
			} 
			.mobile-image.third {
				bottom: 130px;
				left: 20px
			}
			.mobile-image.fourth {
				bottom: 130px;
			    left: 100px;
			}
        </style>

	</head>
	<body>
		<audio id="music" controls loop>
			<source src="sounds/music.mp3" type="audio/mpeg">
		</audio>

		<button id="home" onclick="window.location.href = 'index.html'">Home &#127968;</button>

		<button class="arrow left" onclick="prevImage()">&#9664;</button>
		<button class="arrow right" onclick="nextImage()">&#9654;</button>
		<div id="carousel"></div>

		<div id="container" style="z-index: 10;"></div>

		<div id="canvas">
			<div id="book-zoom">
				<div class="sample-docs">
					<div class="hard"></div>
					<div class="hard"></div>
					<div class="hard p24"></div>
					<div class="hard p24"></div>
				</div>
			</div>
		</div>
		<button id="back">Return &#8617;</button>

        <script type="importmap">
            {
              "imports": {
                "three": "https://unpkg.com/three@0.150.1/build/three.module.js",
                "three/addons/": "https://unpkg.com/three@0.150.1/examples/jsm/"
              }
            }
        </script>

        <script type="x-shader/x-vertex" id="vertexshader">

			uniform float amplitude;

			attribute vec3 customColor;
			attribute vec3 displacement;

			varying vec3 vNormal;
			varying vec3 vColor;

			void main() {

				vNormal = normal;
				vColor = customColor;

				vec3 newPosition = position + normal * amplitude * displacement;
				gl_Position = projectionMatrix * modelViewMatrix * vec4( newPosition, 1.0 );

			}

		</script>
        <script type="x-shader/x-fragment" id="fragmentshader">

			varying vec3 vNormal;
			varying vec3 vColor;

			void main() {

				const float ambient = 0.4;

				vec3 light = vec3( 1.0 );
				light = normalize( light );

				float directional = max( dot( vNormal, light ), 0.0 );

				gl_FragColor = vec4( ( directional + ambient ) * vColor, 1.0 );

			}

		</script>

		<script>
			window.addEventListener('load', function() {
            	document.body.classList.add('loaded');
        	});

			var music = document.getElementById('music');
			music.volume = 0.7; // Set volume to 50%
			music.play();

			if (window.innerWidth < 1000) {
				const img1 = document.createElement('img');
				img1.src = 'img/arrows/down.png';
				img1.className = 'mobile-image';
				img1.id = 'down';

				const img2 = document.createElement('img');
				img2.src = 'img/arrows/up.png';
				img2.className = 'mobile-image second';
				img2.id = 'up';

				const img3 = document.createElement('img');
				img3.src = 'img/arrows/left.png';
				img3.className = 'mobile-image third';
				img3.id = 'left';

				const img4 = document.createElement('img');
				img4.src = 'img/arrows/right.png';
				img4.className = 'mobile-image fourth';
				img4.id = 'right';

				document.body.appendChild(img1);
				document.body.appendChild(img2);
				document.body.appendChild(img3);
				document.body.appendChild(img4);
			}

			if (window.innerWidth > 1000) {
				var newDiv = document.createElement("div");
				newDiv.id = "cursor";
				document.body.appendChild(newDiv);
			}

			if(document.getElementById("cursor")){
				let cursor = document.getElementById("cursor");
				document.addEventListener('mousemove', (e)=>{
					cursor.style.left = e.clientX + "px";
					cursor.style.top = e.clientY + "px";
				});
			}

			const carousel = document.getElementById('carousel');
			for (let i = 1; i <= 21; i++) {
				const imgDiv = document.createElement('div');
				imgDiv.className = 'carousel-image';
				imgDiv.innerHTML = `<img src="turnjs4/docs/files/pages/${i}.png" alt="Image ${i}">`;
				carousel.appendChild(imgDiv);
			}

			let currentImageIndex = 0;
			const images = document.querySelectorAll('.carousel-image');
			images[currentImageIndex].style.display = 'block';

			function showImage(index) {
				images[currentImageIndex].style.display = 'none';
				currentImageIndex = (index + images.length) % images.length;
				images[currentImageIndex].style.display = 'block';
			}

			function nextImage() {
				showImage(currentImageIndex + 1);
			}

			function prevImage() {
				showImage(currentImageIndex - 1);
			}

			if (window.innerWidth > 1000) {
				var newDiv = document.createElement("div");
				newDiv.id = "cursor";
				document.body.appendChild(newDiv);
			}

			if(document.getElementById("cursor")){
				let cursor = document.getElementById("cursor");
				document.addEventListener('mousemove', (e)=>{
					cursor.style.left = e.clientX + "px";
					cursor.style.top = e.clientY + "px";
				});
			}
		</script>

		<script type="module" src="3d/app.js"></script>

		<script type="text/javascript" src="3d/flip.js"></script>

	</body>
</html>