<!DOCTYPE html>
<html lang="en">
	<head>
		<title></title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		<link type="text/css" rel="stylesheet" href="3d/style.css">
        <style>
			#music{
				z-index: -1000;
				position:fixed;
			}
			#play {
    z-index: 1000;
    position: fixed;
    width: 150px; /* Default width */
    border-radius: 10%; 
    background: rgba(255, 115, 0, 0.285); 
    backdrop-filter: blur(10px);
    box-shadow: 0 0 10px #ff8800;
    border: none;
    padding: 10px 20px;
    cursor: pointer;
    outline: none;
    left: 95%;
	top: 90%;
    transform: translateX(-95%);
}
        </style>
	</head>
	<body>
		<button id="play" onclick="playAudio()">Play Audio</button>
		<audio id="music" controls loop>
			<source src="sounds/music.mp3" type="audio/mpeg">
		</audio>
		
		<div id="cursor"></div>

		<div id="container"></div>
		<div id="info"><a href="https://threejs.org" target="_blank" rel="noopener"></div>

        <script type="importmap">
            {
              "imports": {
                "three": "https://unpkg.com/three@0.150.1/build/three.module.js",
                "three/addons/": "https://unpkg.com/three@0.150.1/examples/jsm/"
              }
            }
          </script>

        <script type="x-shader/x-vertex" id="vertexshader">

			uniform float amplitude;

			attribute vec3 customColor;
			attribute vec3 displacement;

			varying vec3 vNormal;
			varying vec3 vColor;

			void main() {

				vNormal = normal;
				vColor = customColor;

				vec3 newPosition = position + normal * amplitude * displacement;
				gl_Position = projectionMatrix * modelViewMatrix * vec4( newPosition, 1.0 );

			}

		</script>
        <script type="x-shader/x-fragment" id="fragmentshader">

			varying vec3 vNormal;
			varying vec3 vColor;

			void main() {

				const float ambient = 0.4;

				vec3 light = vec3( 1.0 );
				light = normalize( light );

				float directional = max( dot( vNormal, light ), 0.0 );

				gl_FragColor = vec4( ( directional + ambient ) * vColor, 1.0 );

			}

		</script>

		<script type="module" src="3d/app.js"></script>

		<script>
			window.addEventListener('load', function() {
            	document.body.classList.add('loaded');
        	});

			var isPlaying = false;
			function playAudio() {
				if (isPlaying) {
					document.getElementById('music').pause();
				} else {
					document.getElementById('music').play();
				}
				
				isPlaying = !isPlaying; 
			}
		</script>

	</body>
</html>